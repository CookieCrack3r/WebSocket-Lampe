<!DOCTYPE html>
 <html>
   <head>
    <title>WebSocket-Lampe</title>
    <meta charset="UTF-8" />
    <style type="text/css">
      body {
        margin: 20px; 
      }
    </style>
    <script src="/socket.io/socket.io.js"></script>
    
 
  </head>
  <body>
    <img id="lampe" src="">
    
    <script>
      let lampe = document.querySelector("#lampe");

      let socket = io.connect();

      socket.on("setLight", setting => {
        lampe.src = (["light-off.png","light-on.png"])[Number(setting)];
      });

      socket.emit("getLight");

      lampe.addEventListener("click", () => {
        socket.emit("toggleLight");
      });
    </script>

  </body>
</html>
